<div class="form-container">

  <form action="#" [formGroup]="newUserForm">
    <h2>{{ formTitle }}</h2>

    <div class="form-field">
      <label for="title">Title:</label>
      <span class="required">*required</span>
      <app-error
        *ngIf="title.errors && (title.dirty || title.touched)"
        [required]="title.errors.required"
        [customError]="title.errors.maxlength ? 'Maxlength should be 50': false">
      </app-error>
      <input
        type="text"
        placeholder="Text input"
        id="title"
        name="title"
        [value]="course?.name"
        formControlName="title">
    </div>

    <div class="form-field">
      <label for="description">Description:</label>
      <span class="required">*required</span>
      <app-error
        *ngIf="description.errors && (description.dirty || description.touched)"
        [required]="description.errors.required"
        [customError]="description.errors.maxlength ? 'Maxlength should be 500': false">
      </app-error>
      <textarea
        placeholder="Add description"
        id="description"
        name="description"
        formControlName="description"
        [value]="course?.description">
      </textarea>
    </div>

    <app-date-input-field
      formControlName="date"
      [control]="date"
      [dateValue]="course?.date">
    </app-date-input-field>

    <app-duration-input-field
      formControlName="duration"
      [control]="duration"
      [durationValue]="course?.length">
    </app-duration-input-field>

    <app-authors-input-field
      formControlName="authors"
      [control]="authors"
      [availableAuthorNames]="availableAuthorNames | async"
      [isUpdating]="!!course">
    </app-authors-input-field>

    <div class="form-field buttons-container">

      <button
        (click) = "onCancel()"
        class="cancel-button">
        Cancel
      </button>

      <button
        (click) = "onSave()"
        class="save-button"
        [disabled]="newUserForm.invalid"
        type="submit">
        Save
      </button>

    </div>

  </form>

</div>
